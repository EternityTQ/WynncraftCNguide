{"version":3,"file":"ProjectPanel.js","sourceRoot":"","sources":["../../../../../src/client/modules/blog/components/ProjectPanel.ts"],"names":[],"mappings":"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","sourcesContent":["import { isLinkAbsolute, isLinkHttp } from \"@vuepress/helper/client\";\nimport type { PropType, VNode } from \"vue\";\nimport { defineComponent, h, resolveComponent } from \"vue\";\nimport { withBase } from \"vuepress/client\";\nimport { generateIndexFromHash } from \"vuepress-shared/client\";\n\nimport HopeIcon from \"@theme-hope/components/HopeIcon\";\nimport { useNavigate, usePure } from \"@theme-hope/composables/index\";\nimport {\n  ArticleIcon,\n  BookIcon,\n  FriendIcon,\n  LinkIcon,\n  ProjectIcon,\n} from \"@theme-hope/modules/blog/components/icons/index\";\nimport cssVariables from \"../../../styles/variables.module.scss\";\n\nimport type { ThemeBlogHomeProjectOptions } from \"../../../../shared/index.js\";\n\nimport \"../styles/project-panel.scss\";\n\nconst AVAILABLE_PROJECT_TYPES = [\n  \"link\",\n  \"article\",\n  \"book\",\n  \"project\",\n  \"friend\",\n];\n\nexport default defineComponent({\n  name: \"ProjectPanel\",\n\n  components: { ArticleIcon, BookIcon, FriendIcon, LinkIcon, ProjectIcon },\n\n  props: {\n    /** 项目列表 */\n    items: {\n      type: Array as PropType<ThemeBlogHomeProjectOptions[]>,\n      required: true,\n    },\n  },\n\n  setup(props) {\n    const isPure = usePure();\n    const navigate = useNavigate();\n\n    const renderIcon = (icon = \"\", alt = \"icon\"): VNode | null => {\n      // Built in icon\n      if (AVAILABLE_PROJECT_TYPES.includes(icon))\n        return h(resolveComponent(`${icon}-icon`));\n\n      // It’s a full image link\n      if (isLinkHttp(icon))\n        return h(\"img\", { class: \"vp-project-image\", src: icon, alt });\n\n      // It’s an absolute image link\n      if (isLinkAbsolute(icon))\n        return h(\"img\", {\n          class: \"vp-project-image\",\n          src: withBase(icon),\n          alt,\n        });\n\n      // Render as icon font\n      return h(HopeIcon, { icon });\n    };\n\n    return (): VNode | null =>\n      h(\n        \"div\",\n        { class: \"vp-project-panel\" },\n        props.items.map(({ icon, link, name, desc, background }) =>\n          h(\n            \"div\",\n            {\n              class: [\n                \"vp-project-card\",\n                {\n                  [`color${generateIndexFromHash(name, Number(cssVariables[\"colorNumber\"]))}`]:\n                    !isPure.value && !background,\n                },\n              ],\n              ...(background ? { style: background } : {}),\n              onClick: () => navigate(link),\n            },\n            [\n              renderIcon(icon, name),\n              h(\"div\", { class: \"vp-project-name\" }, name),\n              h(\"div\", { class: \"vp-project-desc\" }, desc),\n            ],\n          ),\n        ),\n      );\n  },\n});\n"]}